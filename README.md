# How to prevent my websites from malware attacks on a shared hosting server?

Currently there is no "best" solution for this. Most of the shared hosting providers have anti virus software included to check frequently (but most manually) on currupted files within your user folders.

Here are some "good" providers to have those checks automatically included: https://berkaweb.com/hosting/free-malware-detection/

But anyhow, there must be a way to have a fast and simply corruption check on malware for your entire files and folders!?

# Checking checksum of files and changes

The most simple check is to save an hash of each file in a small file based database to enhance a hash-check for each file once a day. This simple checks fire an email to your inbox in case of fire (changes detection). So you still need to manually check your files afterwards, but in that case you'll get notified for a possible virus infection!

# How to install?

```
git clone git@github.com:mitchobrian/shared-hosting-malware-or-virus-detection-on-files.git
composer install
```

## Chnage config.php

```
const FOLDER = "../"; // c&p the complete DIR into your webspace into the directory /cron
const DB_NAME = "MALEWARE.db"; // change the name if you like
const MAIL = "malware@example.com"; // email for the report
```

## Add a cron job within your cPanal

```
30	16	*	*	*	/usr/local/bin/php /public_html/cron/app.php # daily 16:30
```

# DO NOT ENTER TWO JOBS THAT COULD OVERLAP

## Particularities

- Is there a max execution time for CLI php configured at your hosting?
- Check memory limit to prevent (Fatal error: Allowed memory size of X bytes exhausted)

# Refs

- https://www.interserver.net/tips/kb/malware-shared-hosting/
- https://security.stackexchange.com/questions/16361/how-to-prevent-my-website-from-getting-malware-injection-attacks
